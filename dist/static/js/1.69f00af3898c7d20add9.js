(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{212:function(t,e,s){var r={"./af":210,"./af.js":210,"./ar":209,"./ar-dz":208,"./ar-dz.js":208,"./ar-kw":207,"./ar-kw.js":207,"./ar-ly":206,"./ar-ly.js":206,"./ar-ma":205,"./ar-ma.js":205,"./ar-sa":204,"./ar-sa.js":204,"./ar-tn":203,"./ar-tn.js":203,"./ar.js":209,"./az":202,"./az.js":202,"./be":201,"./be.js":201,"./bg":200,"./bg.js":200,"./bm":199,"./bm.js":199,"./bn":198,"./bn.js":198,"./bo":197,"./bo.js":197,"./br":196,"./br.js":196,"./bs":195,"./bs.js":195,"./ca":194,"./ca.js":194,"./cs":193,"./cs.js":193,"./cv":192,"./cv.js":192,"./cy":191,"./cy.js":191,"./da":190,"./da.js":190,"./de":189,"./de-at":188,"./de-at.js":188,"./de-ch":187,"./de-ch.js":187,"./de.js":189,"./dv":186,"./dv.js":186,"./el":185,"./el.js":185,"./en-au":184,"./en-au.js":184,"./en-ca":183,"./en-ca.js":183,"./en-gb":182,"./en-gb.js":182,"./en-ie":181,"./en-ie.js":181,"./en-il":180,"./en-il.js":180,"./en-nz":179,"./en-nz.js":179,"./eo":178,"./eo.js":178,"./es":177,"./es-do":176,"./es-do.js":176,"./es-us":175,"./es-us.js":175,"./es.js":177,"./et":174,"./et.js":174,"./eu":173,"./eu.js":173,"./fa":172,"./fa.js":172,"./fi":171,"./fi.js":171,"./fo":170,"./fo.js":170,"./fr":169,"./fr-ca":168,"./fr-ca.js":168,"./fr-ch":167,"./fr-ch.js":167,"./fr.js":169,"./fy":166,"./fy.js":166,"./gd":165,"./gd.js":165,"./gl":164,"./gl.js":164,"./gom-latn":163,"./gom-latn.js":163,"./gu":162,"./gu.js":162,"./he":161,"./he.js":161,"./hi":160,"./hi.js":160,"./hr":159,"./hr.js":159,"./hu":158,"./hu.js":158,"./hy-am":157,"./hy-am.js":157,"./id":156,"./id.js":156,"./is":155,"./is.js":155,"./it":154,"./it.js":154,"./ja":153,"./ja.js":153,"./jv":152,"./jv.js":152,"./ka":151,"./ka.js":151,"./kk":150,"./kk.js":150,"./km":149,"./km.js":149,"./kn":148,"./kn.js":148,"./ko":147,"./ko.js":147,"./ky":146,"./ky.js":146,"./lb":145,"./lb.js":145,"./lo":144,"./lo.js":144,"./lt":143,"./lt.js":143,"./lv":142,"./lv.js":142,"./me":141,"./me.js":141,"./mi":140,"./mi.js":140,"./mk":139,"./mk.js":139,"./ml":138,"./ml.js":138,"./mn":137,"./mn.js":137,"./mr":136,"./mr.js":136,"./ms":135,"./ms-my":134,"./ms-my.js":134,"./ms.js":135,"./mt":133,"./mt.js":133,"./my":132,"./my.js":132,"./nb":131,"./nb.js":131,"./ne":130,"./ne.js":130,"./nl":129,"./nl-be":128,"./nl-be.js":128,"./nl.js":129,"./nn":127,"./nn.js":127,"./pa-in":126,"./pa-in.js":126,"./pl":125,"./pl.js":125,"./pt":124,"./pt-br":123,"./pt-br.js":123,"./pt.js":124,"./ro":122,"./ro.js":122,"./ru":121,"./ru.js":121,"./sd":120,"./sd.js":120,"./se":119,"./se.js":119,"./si":118,"./si.js":118,"./sk":117,"./sk.js":117,"./sl":116,"./sl.js":116,"./sq":115,"./sq.js":115,"./sr":114,"./sr-cyrl":113,"./sr-cyrl.js":113,"./sr.js":114,"./ss":112,"./ss.js":112,"./sv":111,"./sv.js":111,"./sw":110,"./sw.js":110,"./ta":109,"./ta.js":109,"./te":108,"./te.js":108,"./tet":107,"./tet.js":107,"./tg":106,"./tg.js":106,"./th":105,"./th.js":105,"./tl-ph":104,"./tl-ph.js":104,"./tlh":103,"./tlh.js":103,"./tr":102,"./tr.js":102,"./tzl":101,"./tzl.js":101,"./tzm":100,"./tzm-latn":99,"./tzm-latn.js":99,"./tzm.js":100,"./ug-cn":98,"./ug-cn.js":98,"./uk":97,"./uk.js":97,"./ur":96,"./ur.js":96,"./uz":95,"./uz-latn":94,"./uz-latn.js":94,"./uz.js":95,"./vi":93,"./vi.js":93,"./x-pseudo":92,"./x-pseudo.js":92,"./yo":91,"./yo.js":91,"./zh-cn":90,"./zh-cn.js":90,"./zh-hk":89,"./zh-hk.js":89,"./zh-tw":88,"./zh-tw.js":88};function n(t){var e=o(t);return s(e)}function o(t){var e=r[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}n.keys=function(){return Object.keys(r)},n.resolve=o,t.exports=n,n.id=212},213:function(t,e,s){"use strict";s.r(e);var r=s(0),n=s.n(r),o=s(18),a=s(211),i=a.b.reactiveProp;function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},r=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(s).filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable}))),r.forEach(function(e){c(t,e,s[e])})}return t}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var j={name:"c-home",components:{LineChart:{extends:a.a,mixins:[i],props:["options"],mounted:function(){this.renderChart(this.chartData,this.options)}}},computed:l({filterFoodTypes:function(){return this.items.map(function(t){return{text:t.type,value:t.type}}).filter(function(t,e,s){return s.map(function(t){return t.text}).indexOf(t.text)===e}).sort(function(t,e){return t.text<e.text?-1:1})},getTotalRows:function(){return this.totalRows||this.items.length},getLineChartCollection:function(){return this.lineChartDataCollection},numberOfExpiredFilteredItems:function(){var t=this,e=n()();return this.items.filter(function(s){var r=n()(s.expirationDate,"MM/DD/YYYY");return s.type===t.filter&&r.isBefore(e)}).length}},Object(o.c)("foods",{items:"getFoods"})),created:function(){this.fetchFoods()},mounted:function(){this.setDefaultFilter(),this.renderChart()},data:function(){return{fields:[{key:"name",label:"Name"},{key:"type",label:"Type",sortable:!0},{key:"expirationDate",label:"Expiration Date",sortable:!0}],currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:null,sortDesc:!1,sortDirection:"asc",filter:null,totalRows:null,lineChartDataCollection:null}},methods:l({renderChart:function(){var t=this;this.groupFoodsByDate().then(function(e){t.collectChartFoodItems(e)}).catch(function(t){console.log("error=",t)})},groupFoodsByDate:function(){var t=this,e=n()();return new Promise(function(s,r){if(t.items){var o={};t.items.filter(function(s){var r=n()(s.expirationDate,"MM/DD/YYYY");return s.type===t.filter&&r.isBefore(e)}).forEach(function(t){var e=t.expirationDate;o[e]=o[t.expirationDate]||[],o[e].push(t)}),s(o)}else{r(new Error("not found!"))}})},collectChartFoodItems:function(t){this.lineChartDataCollection={datasets:[{label:"",borderColor:"#f87979",borderWidth:1,backgroundColor:"white",data:[]}]},this.lineChartDataCollection.labels=[];var e=this.lineChartDataCollection.datasets[0];e.label=this.filter,console.log("groupByDate=",t);var s={};for(var r in Object.keys(t).sort().forEach(function(e){s[e]=t[e]}),s)s.hasOwnProperty(r)&&(this.lineChartDataCollection.labels.push(r),console.log("key=",r),console.log("orderedGroupByDate[key]=",s[r].length),e.data.push(s[r].length))},setDefaultFilter:function(){this.filter||(this.filter=this.filterFoodTypes[0].text)},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1,this.renderChart()}},Object(o.b)("foods",{fetchFoods:"fetchFoods"}))},u=s(7),f=Object(u.a)(j,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{staticClass:"animated fadeIn home-container",attrs:{fluid:""}},[s("b-row",[s("b-col",{attrs:{md:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:"Filter"}},[s("b-input-group",[s("b-form-select",{attrs:{options:t.filterFoodTypes},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)],1)],1),t._v(" "),s("b-col",{attrs:{md:"6"}},[s("div",{staticClass:"text-center"},[s("b-button",{attrs:{variant:"danger"}},[s("b-badge",{staticClass:"expired-badge",attrs:{variant:"light"}},[t._v(t._s(t.numberOfExpiredFilteredItems))]),t._v(" expired items\n        ")],1)],1)])],1),t._v(" "),s("b-row",[s("line-chart",{attrs:{"chart-data":t.getLineChartCollection}})],1),t._v(" "),s("b-table",{attrs:{"show-empty":"",stacked:"md",items:t.items,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection},on:{"update:sortBy":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},filtered:t.onFiltered}}),t._v(" "),s("b-row",[s("b-col",{staticClass:"my-1",attrs:{md:"6"}},[s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.getTotalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},[],!1,null,null,null);e.default=f.exports}}]);